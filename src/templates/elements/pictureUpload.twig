{% set imageUploadForm %}
  <form method="POST" 
    action="/api/product/picture/store" 
    class="image-upload-form"
  >
    <input type="file" name="image" class="image-input {% if product.userPicture %} {{ 'd-none' }} {% endif %}">
    <input type="hidden" name="product-id" value="{{ product.id }}">
    {% include "elements/csrfToken.twig" %}
  </form>
{% endset %}

{% if product.userPicture %}
  <div class="upload-input mr-2">
    <div class="d-none delete-pic-id">{{ product.userPicture.id }}</div>
    <div class="d-none delete-pic-url">{{ product.userPicture.url }}</div>
    {{ imageUploadForm }}
    <button class="btn btn-danger upload-btn">Delete</button>
  </div>
  <div class="upload-showcase" style="background-image: url('{{ product.userPicture.url|replace({'--size': '--icon'}) }}');"></div>
{% else %}
  <div class="upload-input mr-2">
    {{ imageUploadForm }}
    <button class="btn btn-primary upload-btn">Upload</button>
  </div>
  <div class="upload-showcase"></div>
{% endif %}
